@{
    Layout = "_Layout";
}

<environment names="Development">
    <link href="~/css/books.css" rel="stylesheet" />
</environment>
<environment names="Staging,Production">
    <link href="~/css/books.css" rel="stylesheet" asp-append-version="true" />
</environment>


<div class="expenses" ng-controller="BookController as book" ng-init="book.getBooks()">
    <input class="btn btn-primary" type="button" data-toggle="modal" data-target="#bookModal" value="Add book" ng-click="book.addBook()" />

    <table class="table table-hover">
        <thead>
            <tr>
                <th ng-click="book.sort('header')">Header</th>
                <th>Page Count</th>
                <th>Publishing house</th>
                <th ng-click="book.sort('publishYear')">Publish year</th>
                <th>ISBN</th>
                <th>Image</th>
                <th>Edit</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="item in book.books | orderBy:book.sortPredicateBook:book.reverse">
                <td>{{ item.header }}</td>
                <td>{{ item.pageCount }}</td>
                <td>{{ item.publishingHouseName }}</td>
                <td>{{ item.publishYear }}</td>
                <td>{{ item.isbn }}</td>
                <td>{{ item.image }}</td>
                <td><input type="button" class="btn btn-primary" data-toggle="modal" data-target="#bookModal" value="E" ng-click="book.editBook(item, $index)" /></td>
            </tr>
        </tbody>
    </table>

    @Html.Partial("bookModal")
</div>